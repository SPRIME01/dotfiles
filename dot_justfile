# Global Justfile (managed by chezmoi)

# Display a list of available tasks when no target is specified.
default:
	@echo "=== Global Justfile Tasks ==="
	@just --list

# Bootstrap development environment
bootstrap:
	chezmoi apply
	@command -v mise >/dev/null 2>&1 && mise install || true
	@echo "Environment ready"

# Lint placeholder (customize per-language locally)
lint:
	@echo "No global lint configured; add project-specific linters"

# Format placeholder
format:
	@echo "No global formatter configured; add project-specific formatters"

# Install direnv across supported platforms (idempotent)
install-direnv:
	@bash "$HOME/dotfiles/scripts/install-direnv.sh"

# ===== Windows chezmoi helpers (run from WSL) =====
windows-chezmoi-diff SRC="${HOME}/dotfiles":
	@bash -lc 'bash "$HOME/dotfiles/scripts/windows-chezmoi-diff.sh" "{{SRC}}"'

windows-chezmoi-apply SRC="${HOME}/dotfiles":
	@bash -lc 'bash "$HOME/dotfiles/scripts/windows-chezmoi-apply.sh" "{{SRC}}"'
